<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="900" prefWidth="1400" styleClass="root" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.marketfruits.LocalManagementController">

    <!-- Top Navigation Bar -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-nav" stylesheets="@../css/dashboard.css">
            <padding>
                <Insets bottom="12" left="20" right="20" top="12" />
            </padding>

            <Label styleClass="app-title" text="ðŸŒ¾ à¦•à§ƒà¦·à¦¿ à¦¸à¦¾à¦¥à§€" />
            <Label styleClass="bd-badge" text="BD" />

            <Region HBox.hgrow="ALWAYS" />

            <Button styleClass="sound-btn">
                <graphic>
                    <Label text="ðŸ”‡" />
                </graphic>
            </Button>

            <Label styleClass="online-status" text="ðŸ“¶ à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§‡" />
        </HBox>
    </top>

    <!-- Left Sidebar -->
    <left>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" styleClass="sidebar-scroll" vbarPolicy="AS_NEEDED">
            <VBox spacing="5" styleClass="sidebar" stylesheets="@../css/dashboard.css">
                <padding>
                    <Insets bottom="20" left="10" right="10" top="20" />
                </padding>

                <Button fx:id="btnHome" styleClass="sidebar-btn" text="ðŸ  à¦¹à§‹à¦®" />
                <Button fx:id="btnAdvisory" styleClass="sidebar-btn" text="ðŸ“… à¦ªà¦°à¦¿à¦•à¦²à§à¦ªà¦¨à¦¾ à¦“ à¦¹à¦¿à¦¸à¦¾à¦¬" />
                <Button fx:id="btnStorage" styleClass="sidebar-btn" text="ðŸª à¦—à§à¦¦à¦¾à¦® à¦“ à¦¸à¦‚à¦°à¦•à§à¦·à¦£" />
                <Button text="ðŸ‘·à¦¶à§à¦°à¦®à¦¿à¦• à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾" styleClass="sidebar-btn,active-btn" fx:id="btnLocalManagement"/>
                <Button fx:id="btnFarmWeather" styleClass="sidebar-btn" text="ðŸ“– à¦–à¦¾à¦®à¦¾à¦° à¦†à¦¬à¦¹à¦¾à¦“à¦¯à¦¼à¦¾" />
                <Button fx:id="btnAgriAnalysis" styleClass="sidebar-btn" text="ðŸ“ˆ à¦•à§ƒà¦·à¦¿ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£" />
<!--                <Button fx:id="btnLocalManagement" styleClass="sidebar-btn, active-btn" text="ðŸ‘¥ à¦¸à§à¦¥à¦¾à¦¨à§€à¦¯à¦¼ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾" />-->
                <Button fx:id="btnAgriNews" styleClass="sidebar-btn" text="ðŸ“° à¦•à§ƒà¦·à¦¿ à¦¸à¦‚à¦¬à¦¾à¦¦" />
                <Button fx:id="btnCropPlanning" styleClass="sidebar-btn" text="ðŸŽ¯ à¦«à¦¸à¦² à¦ªà¦°à¦¿à¦•à¦²à§à¦ªà¦¨à¦¾" />
<!--                <Button fx:id="btnAdvisory" styleClass="sidebar-btn" text="ðŸ“… à¦ªà¦°à¦¾à¦®à¦°à§à¦¶ à¦“ à¦¬à¦¿à¦¸à¦¾à¦°" />-->
                <Button fx:id="btnProfitLoss" styleClass="sidebar-btn" text="ðŸ’° à¦²à¦¾à¦­-à¦•à§à¦·à¦¤à¦¿ à¦¹à¦¿à¦¸à¦¾à¦¬" />
                <Button fx:id="btnWeather" styleClass="sidebar-btn" text="ðŸŒ¦ï¸ à¦†à¦¬à¦¹à¦¾à¦“à¦¯à¦¼à¦¾" />
                <Button fx:id="btnMarket" styleClass="sidebar-btn" text="ðŸ“Š à¦¬à¦¾à¦œà¦¾à¦°" />
                <Button fx:id="btnFarmerMarket" styleClass="sidebar-btn" text="ðŸ›’ à¦•à§ƒà¦·à¦• à¦¬à¦¾à¦œà¦¾à¦°" />
                <Button fx:id="btnSoilHealth" styleClass="sidebar-btn" text="ðŸ”” à¦®à¦¾à¦Ÿà¦¿ à¦¸à§à¦¬à¦¾à¦¸à§à¦¥à§à¦¯" />
                <Button fx:id="btnPestDetection" styleClass="sidebar-btn" text="â˜€ï¸ à¦•à§€à¦Ÿà¦ªà¦¤à¦™à§à¦— à¦¶à¦¨à¦¾à¦•à§à¦¤" />
                <Button fx:id="btnComments" styleClass="sidebar-btn" text="ðŸ—£ï¸ à¦®à¦¨à§à¦¤à¦¬à§à¦¯ à¦­à¦¾à¦¡à§à¦°à¦¾" />
                <Button fx:id="btnWamService" styleClass="sidebar-btn" text="ðŸ“° à¦“à¦¯à¦¼à¦¾à¦® à¦¸à§‡à¦¬à¦¾" />
                <Button fx:id="btnNewsTraffic" styleClass="sidebar-btn" text="ðŸ“… à¦–à¦¬à¦° à¦Ÿà§à¦°à§à¦¯à¦¾à¦«à¦¿à¦•" />
                <Button fx:id="btnEmergencyHelp" styleClass="sidebar-btn" text="â“ à¦œà¦°à§à¦°à¦¿ à¦¸à¦¹à¦¾à¦¯à¦¼à¦¤à¦¾" />
                <Button fx:id="btnCommunity" styleClass="sidebar-btn" text="ðŸ‘¥ à¦¸à¦®à§à¦ªà§à¦°à¦¦à¦¾à¦¯à¦¼" />
                <Button fx:id="btnStudy" styleClass="sidebar-btn" text="âš™ï¸ à¦…à¦§à§à¦¯à¦¯à¦¼à¦¨" />
                <Button fx:id="btnProfile" styleClass="sidebar-btn" text="ðŸ‘¤ à¦ªà§à¦°à§‹à¦«à¦¾à¦‡à¦²" />
            </VBox>
        </ScrollPane>
    </left>

    <!-- Main Content Area -->
    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" pannable="true" styleClass="content-scroll" vbarPolicy="ALWAYS">
            <VBox spacing="25" styleClass="main-content" stylesheets="@../css/LocalManagement.css">
                <padding>
                    <Insets bottom="30" left="30" right="30" top="30" />
                </padding>

                <!-- Page Header -->
                <HBox alignment="CENTER_LEFT" spacing="20">
                    <VBox spacing="10" HBox.hgrow="ALWAYS">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label styleClass="page-title-large" text="ðŸ‘¥ à¦¶à§à¦°à¦®à¦¿à¦• à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾" />
                        </HBox>
                        <Label styleClass="page-subtitle" text="à¦•à§ƒà¦·à¦¿ à¦¶à§à¦°à¦®à¦¿à¦•à¦¦à§‡à¦° à¦•à¦¾à¦œ à¦“ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦Ÿà§à¦°à§à¦¯à¦¾à¦• à¦•à¦°à§à¦¨" />
                    </VBox>

                    <Button fx:id="addRecordBtn" styleClass="add-record-btn" text="+ à¦¨à¦¤à§à¦¨ à¦°à§‡à¦•à¦°à§à¦¡" />
                </HBox>

                <!-- Statistics Cards -->
                <HBox alignment="CENTER" spacing="20">

                    <!-- Total Workers Card -->
                    <VBox spacing="10" styleClass="stat-card-blue" HBox.hgrow="ALWAYS">
                        <padding>
                            <Insets bottom="25" left="25" right="25" top="25" />
                        </padding>
                        <Label styleClass="stat-card-label" text="à¦®à§‹à¦Ÿ à¦¶à§à¦°à¦®à¦¿à¦•" />
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label fx:id="totalWorkersLabel" styleClass="stat-card-value-large" text="0" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label styleClass="stat-card-icon" text="ðŸ‘¥" />
                        </HBox>
                    </VBox>

                    <!-- Pending Payment Card -->
                    <VBox spacing="10" styleClass="stat-card-orange" HBox.hgrow="ALWAYS">
                        <padding>
                            <Insets bottom="25" left="25" right="25" top="25" />
                        </padding>
                        <Label styleClass="stat-card-label" text="à¦¬à¦¾à¦•à¦¿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ" />
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label fx:id="pendingPaymentLabel" styleClass="stat-card-value-large" text="à§³0" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label styleClass="stat-card-icon" text="ðŸ•" />
                        </HBox>
                    </VBox>

                    <!-- Completed Payment Card -->
                    <VBox spacing="10" styleClass="stat-card-green" HBox.hgrow="ALWAYS">
                        <padding>
                            <Insets bottom="25" left="25" right="25" top="25" />
                        </padding>
                        <Label styleClass="stat-card-label" text="à¦¸à¦®à§à¦ªà¦¨à§à¦¨ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ" />
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label fx:id="completedPaymentLabel" styleClass="stat-card-value-large" text="à§³0" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Label styleClass="stat-card-icon" text="âœ“" />
                        </HBox>
                    </VBox>

                </HBox>

                <!-- Workers Records Section -->
                <VBox spacing="20" styleClass="records-section">
                    <padding>
                        <Insets bottom="25" left="25" right="25" top="25" />
                    </padding>

                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label styleClass="section-heading-large" text="à¦¶à§à¦°à¦®à¦¿à¦• à¦°à§‡à¦•à¦°à§à¦¡" />
                        <Region HBox.hgrow="ALWAYS" />
                        <ComboBox fx:id="filterComboBox" prefWidth="150" promptText="à¦«à¦¿à¦²à§à¦Ÿà¦¾à¦° à¦•à¦°à§à¦¨" styleClass="filter-combo" />
                    </HBox>

                    <!-- Workers List -->
                    <VBox fx:id="workersListContainer" spacing="15">
                        <!-- Empty state will be shown initially -->
                        <VBox fx:id="emptyState" alignment="CENTER" minHeight="300" spacing="20" styleClass="empty-state">
                            <Label styleClass="empty-icon" text="ðŸ‘·" />
                            <Label styleClass="empty-text" text="à¦à¦–à¦¨à¦“ à¦•à§‹à¦¨ à¦¶à§à¦°à¦®à¦¿à¦• à¦°à§‡à¦•à¦°à§à¦¡ à¦¨à§‡à¦‡" />
                            <Label styleClass="empty-subtext" text="à¦‰à¦ªà¦°à§‡à¦° '+ à¦¨à¦¤à§à¦¨ à¦°à§‡à¦•à¦°à§à¦¡' à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à§‡ à¦¶à§à¦°à§ à¦•à¦°à§à¦¨" />
                        </VBox>

                        <!-- Worker records will be dynamically added here -->
                    </VBox>
                </VBox>

                <!-- Quick Tips Section -->
                <VBox spacing="15" styleClass="tips-card-info">
                    <padding>
                        <Insets bottom="20" left="25" right="25" top="20" />
                    </padding>

                    <Label styleClass="tips-heading" text="ðŸ’¡ à¦¶à§à¦°à¦®à¦¿à¦• à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾à¦° à¦Ÿà¦¿à¦ªà¦¸" />

                    <VBox spacing="10">
                        <Label styleClass="tip-item-info" text="â€¢ à¦ªà§à¦°à¦¤à¦¿à¦¦à¦¿à¦¨à§‡à¦° à¦•à¦¾à¦œ à¦¶à§‡à¦·à§‡ à¦°à§‡à¦•à¦°à§à¦¡ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦•à¦°à§à¦¨" />
                        <Label styleClass="tip-item-info" text="â€¢ à¦¨à¦¿à¦¯à¦¼à¦®à¦¿à¦¤ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦•à¦°à¦²à§‡ à¦¶à§à¦°à¦®à¦¿à¦•à¦°à¦¾ à¦–à§à¦¶à¦¿ à¦¥à¦¾à¦•à§‡" />
                        <Label styleClass="tip-item-info" text="â€¢ à¦¶à§à¦°à¦®à¦¿à¦•à¦¦à§‡à¦° à¦¨à¦¾à¦®, à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦¨à¦®à§à¦¬à¦° à¦¸à¦‚à¦°à¦•à§à¦·à¦£ à¦•à¦°à§à¦¨" />
                        <Label styleClass="tip-item-info" text="â€¢ à¦®à§Œà¦¸à§à¦®à¦¿ à¦•à¦¾à¦œà§‡à¦° à¦œà¦¨à§à¦¯ à¦†à¦—à§‡ à¦¥à§‡à¦•à§‡ à¦ªà¦°à¦¿à¦•à¦²à§à¦ªà¦¨à¦¾ à¦•à¦°à§à¦¨" />
                    </VBox>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
